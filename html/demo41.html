<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    let cat = {
        food: 'fish',
        eat(name,age) {
            console.log(name)
            console.log(age)
            console.log('i like '+ this.food)
            return {
                name:name,
                age:age
            }
        }
    }
    let dog = {
        food: 'bound'
    }

    Function.prototype.call2 = function(context) {
        var context = context || window
        context.fn = this
        let args = []
        for(let i =1; i < arguments.length; i++){
            args.push('arguments['+i+']')
        }
        let result = eval('context.fn('+args+')')
        delete context.fn
        return result
    }
    // console.log(cat.eat.call2(dog,'po',8))

    Function.prototype.apply2 = function(context,arr) {
        var context = context || window
        context.fn = this
        let args = []
        let result
        if (!arr) {
            context.fn()
        } else {
            for(let i = 0; i < arr.length; i++){
                args.push('arr['+i+']')
            }
            result = eval('context.fn('+args+')')
        }
        delete context.fn
        return result
    }
    console.log(cat.eat.apply2(dog,['hello',4]))
</script>
</html>
